<!DOCTYPE html>
<!-- saved from url=(0065)http://127.0.0.1/doc/index?module=open_api&action=get_reward_info -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>Open_api - 在线接口文档 - get_reward_info</title>

    <link rel="stylesheet" href="./api_doc_files/semantic.min.css">
    <link rel="stylesheet" href="./api_doc_files/table.min.css">
    <link rel="stylesheet" href="./api_doc_files/container.min.css">
    <link rel="stylesheet" href="./api_doc_files/message.min.css">
    <link rel="stylesheet" href="./api_doc_files/label.min.css">
    <script src="./api_doc_files/jquery.min.js"></script>
</head>

<body>

<br> 

    <div class="ui text container" style="max-width: none !important;">
        <div class="ui floating message">
<h2 class="ui header">接口：Open_api</h2><br>  <span class="ui teal tag label">接口调用控制器</span><br><br><span class="ui teal label">POST</span> <span class="ui teal label">http://127.0.0.1/open_api/get_reward_info</span>            <div class="ui raised segment">
                <span class="ui red ribbon label">接口说明</span>
                <div class="ui message">
                    <p>获取奖品信息</p>
                </div>
            </div>
            <h3>接口参数</h3>
            <table class="ui red celled striped table">
                <thead>
                    <tr><th>参数名字</th><th>类型</th><th>是否必须</th><th>示例值</th><th>说明</th></tr>
                </thead>
                <tbody><tr><td>activity_id</td><td>整型</td><td><font color="red">必须</font></td><td>11</td><td>活动id</td></tr>
                </tbody>
            </table>
            <h3>返回结果</h3>
            <table class="ui green celled striped table">
                <thead>
                    <tr><th>返回字段</th><th>类型</th><th>说明</th></tr>
                </thead>
                <tbody><tr><td></td><td>数组</td><td></td></tr>            </tbody>
        </table><h3>
    请求模拟 &nbsp;&nbsp;
</h3><table class="ui green celled striped table">
    <thead>
        <tr><th>参数</th><th>类型</th><th>是否必填</th><th>值</th></tr>
    </thead>
    <tbody id="params">        <tr>
            <td>activity_id</td>
            <td>整型</td>
            <td><font color="red">必须</font></td>
            <td><input name="activity_id" value="11" placeholder="活动id" style="width: 100%; background-image: url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAkCAYAAADo6zjiAAAAAXNSR0IArs4c6QAAAbNJREFUWAntV8FqwkAQnaymUkpChB7tKSfxWCie/Yb+gbdeCqGf0YsQ+hU95QNyDoWCF/HkqdeiIaEUqyZ1ArvodrOHxanQOiCzO28y781skKwFW3scPV1/febP69XqarNeNTB2KGs07U3Ttt/Ozp3bh/u7V7muheQf6ftLUWyYDB5yz1ijuPAub2QRDDunJsdGkAO55KYYjl0OUu1VXOzQZ64Tr+IiPXedGI79bQHdbheCIAD0dUY6gV6vB67rAvo6IxVgWVbFy71KBKkAFaEc2xPQarXA931ot9tyHphiPwpJgSbfe54Hw+EQHMfZ/msVEEURjMfjCjbFeG2dFxPo9/sVOSYzxmAwGIjnTDFRQLMQAjQ5pJAQkCQJ5HlekeERxHEsiE0xUUCzEO9AmqYQhiF0Oh2Yz+ewWCzEY6aYKKBZCAGYs1wuYTabKdNNMWWxnaA4gp3Yry5JBZRlWTXDvaozUgGTyQSyLAP0dbb3DtQlmcan0yngT2ekE9ARc+z4AvC7nauh9iouhpcGamJeX8XF8MaClwaeROWRA7nk+tUnyzGvZrKg0/40gdME/t8EvgG0/NOS6v9NHQAAAABJRU5ErkJggg==&quot;); background-repeat: no-repeat; background-attachment: scroll; background-size: 16px 18px; background-position: 98% 50%; cursor: auto;" class="C_input" type="text" autocomplete="off"></td>
        </tr>    </tbody>
</table>
<div style="display: flex;align-items:center;">
    <select name="request_type" style="font-size: 14px; padding: 2px;">
        <option value="GET">GET</option>
        <option value="POST" selected="selected">POST</option>
    </select>&nbsp;<input name="request_url" value="http://127.0.0.1/open_api/get_reward_info" style="width: 500px; height: 24px; line-height: 18px; font-size: 13px; position: relative; padding-left: 5px; margin-left: 10px; background-image: url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAkCAYAAADo6zjiAAAAAXNSR0IArs4c6QAAAbNJREFUWAntV8FqwkAQnaymUkpChB7tKSfxWCie/Yb+gbdeCqGf0YsQ+hU95QNyDoWCF/HkqdeiIaEUqyZ1ArvodrOHxanQOiCzO28y781skKwFW3scPV1/febP69XqarNeNTB2KGs07U3Ttt/Ozp3bh/u7V7muheQf6ftLUWyYDB5yz1ijuPAub2QRDDunJsdGkAO55KYYjl0OUu1VXOzQZ64Tr+IiPXedGI79bQHdbheCIAD0dUY6gV6vB67rAvo6IxVgWVbFy71KBKkAFaEc2xPQarXA931ot9tyHphiPwpJgSbfe54Hw+EQHMfZ/msVEEURjMfjCjbFeG2dFxPo9/sVOSYzxmAwGIjnTDFRQLMQAjQ5pJAQkCQJ5HlekeERxHEsiE0xUUCzEO9AmqYQhiF0Oh2Yz+ewWCzEY6aYKKBZCAGYs1wuYTabKdNNMWWxnaA4gp3Yry5JBZRlWTXDvaozUgGTyQSyLAP0dbb3DtQlmcan0yngT2ekE9ARc+z4AvC7nauh9iouhpcGamJeX8XF8MaClwaeROWRA7nk+tUnyzGvZrKg0/40gdME/t8EvgG0/NOS6v9NHQAAAABJRU5ErkJggg==&quot;); background-repeat: no-repeat; background-attachment: scroll; background-size: 16px 18px; background-position: 98% 50%;" autocomplete="off">
    <input type="submit" name="submit" value="发送" id="submit" style="font-size:14px;line-height: 20px;margin-left: 10px ">
</div><div class="ui blue message" id="json_output" style="display: block;"><pre>200 OK<br>Date: Mon, 17 Jul 2017 08:47:05 GMT
Server: Apache/2.4.25 (Unix) OpenSSL/1.0.2j PHP/5.6.30 mod_perl/2.0.8-dev Perl/v5.16.3
Connection: Keep-Alive
X-Powered-By: PHP/5.6.30
Content-Length: 153
Keep-Alive: timeout=5, max=100
Content-Type: text/html; charset=UTF-8
<br><div class="json">{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">errCode</span>: <span class="string">200</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">errMsg</span>: <span class="string">Success</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">status</span>: <span class="boolean">true</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">data</span>: {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">一等奖</span>: <span class="string">iPhone7</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">二等奖</span>: <span class="string">iPhone6</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">三等奖</span>: <span class="string">iPhone5</span><br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></div></pre></div>        <div class="ui blue message">
          <strong>温馨提示：</strong> 此接口参数列表根据后台代码自动生成
        </div>
    </div>
    <script type="text/javascript">
        function getData() {
            var data={};
            $("td input").each(function(index,e) {
                if ($.trim(e.value)){
                    data[e.name] = e.value;
                }
            });
            return data;
        }

        // json格式化
        function ObjectToHtml(data) {
            // 若传入数值为json，则转换为字符串
            var txt = typeof data === 'string' ? data : JSON.stringify(data);
            // 转换为Object
            try {
                var obj = eval('(' + txt + ')');
            } catch (e) {
                alert('数据源语法错误,JSON格式化失败! 错误信息: ' + e.description, 'err');
                return
            }
            var line = '</br>', // 换行
                indentChar = '&nbsp;&nbsp;&nbsp;&nbsp;'; // 缩进量
            // 获取缩进字符
            var getTab = function(num) {
                for (var i = 0, tab = ''; i < num; i++) {
                    tab += indentChar;
                }
                return tab;
            };
            // 检测递归
            var format = function(value, indent /*缩进*/ , isLast /*是否数组或者对象最后*/ , inArray /*是否在数组中*/ ) {
                var str = '';
                // 将处理为`[value,value]`，并将进入检测递归
                if (Object.prototype.toString.call(value) === '[object Array]') {
                    str += '[';
                    value.forEach(function(item, index) {
                        str += format(item, indent, index === (value.length - 1), true);
                    });
                    str += ']';
                // null，将处理为`<span class="null">null</span>`
                } else if (value === null) {
                    str += '<span class="null">null</span>';
                // 对象Object，将处理为`{<span class="key">"key"</span>:value}`，并进入检测递归
                } else if (typeof value === 'object') {
                    str += '{' + line + getTab(++indent);
                    var keys = Object.keys(value);
                    keys.forEach(function(key, index) {
                        str += '<span class="key">' + key + '</span>: ' + format(value[key], indent, index === (keys.length - 1));
                    });
                    str += '}';
                    indent--;
                // true/false，将处理为`<span class="boolen">true/false</span>`
                } else if (typeof value === 'boolean') {
                    str += '<span class="boolean">' + value + '</span>';
                // 字符串，将处理为`<span class="string">"string"</span>`
                } else if (typeof value === 'string') {
                    str += '<span class="string">' + value + '</span>';
                // 数字Number，将处理为`<span class="number">1</span>`
                } else {
                    str += '<span class="number">' + value + '</span>';
                }
                str += (isLast ? '' : ',') + (inArray ? '' : (line + getTab(isLast ? --indent : indent)));
                return str;
            }
            return ('<div class="json">' + format(obj, 0, true) + '</div>');
        }
        
        $(function(){
            $("#json_output").hide();
            $("#submit").on("click",function(){
                $.ajax({
                    url:$("input[name=request_url]").val(),
                    type:$("select").val(),
                    data:getData(),
                    success:function(res,status,xhr){
                        console.log(xhr);
                        var statu = xhr.status + ' ' + xhr.statusText;
                        var header = xhr.getAllResponseHeaders();
                        var json_text = ObjectToHtml(res);    // 缩进4个空格
                        $("#json_output").html('<pre>' + statu + '<br/>' + header + '<br/>' + json_text + '</pre>');
                        $("#json_output").show();
                    },
                    error:function(error){
                        console.log(error)
                    }
                })
            })

            
        })
    </script>

</div></body></html>